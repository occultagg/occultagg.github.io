<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="https://cdn.jsdelivr.net/gh/occultagg/blog-pics/hexo-blog/202206120024516.ico"><link rel="icon" href="https://cdn.jsdelivr.net/gh/occultagg/blog-pics/hexo-blog/202206120024516.ico"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#2f4154"><meta name="author" content="Peter Pan"><meta name="keywords" content=""><meta name="description" content="服务类型总结计算（Compute）:Amazon EC2（Elastic Compute Cloud） spot: 使用aws上未被使用的计算资源,随时可能被终止,适用于批处理,科学计算等,价格按供需变化 预留: 预定计算资源(一般是1年或3年),折扣比按需大 按需: 按小时或秒收费 节省计划: 在一定时间内(一般是一年或三年)使用一定量的计算资源,换取比按需更低的价格 集群放置组: 在单可用区"><meta property="og:type" content="article"><meta property="og:title" content="AWS-SAP-MustKnow"><meta property="og:url" content="http://example.com/2024/03/20/AWS-SAP/index.html"><meta property="og:site_name" content="Any &amp; Nothing"><meta property="og:description" content="服务类型总结计算（Compute）:Amazon EC2（Elastic Compute Cloud） spot: 使用aws上未被使用的计算资源,随时可能被终止,适用于批处理,科学计算等,价格按供需变化 预留: 预定计算资源(一般是1年或3年),折扣比按需大 按需: 按小时或秒收费 节省计划: 在一定时间内(一般是一年或三年)使用一定量的计算资源,换取比按需更低的价格 集群放置组: 在单可用区"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/occultagg/blog-pics/hexo-blog/90"><meta property="article:published_time" content="2024-03-20T09:17:31.000Z"><meta property="article:modified_time" content="2024-12-11T09:52:23.054Z"><meta property="article:author" content="Peter Pan"><meta property="article:tag" content="AWS"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/occultagg/blog-pics/hexo-blog/90"><meta name="referrer" content="no-referrer-when-downgrade"><title>AWS-SAP-MustKnow - Any &amp; Nothing</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"example.com",root:"/",version:"1.9.7",typing:{enable:!0,typeSpeed:70,cursorChar:"|",loop:!1,scope:["home"]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!0,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!0,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml",include_content_in_search:!0};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="Any & Nothing" type="application/atom+xml">
</head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>Any &amp; Nothing</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/" target="_self"><i class="iconfont icon-home-fill"></i> <span>首页</span></a></li><li class="nav-item"><a class="nav-link" href="/archives/" target="_self"><i class="iconfont icon-archive-fill"></i> <span>归档</span></a></li><li class="nav-item"><a class="nav-link" href="/categories/" target="_self"><i class="iconfont icon-category-fill"></i> <span>分类</span></a></li><li class="nav-item"><a class="nav-link" href="/tags/" target="_self"><i class="iconfont icon-tags-fill"></i> <span>标签</span></a></li><li class="nav-item"><a class="nav-link" href="/about/" target="_self"><i class="iconfont icon-user-fill"></i> <span>关于</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/img/default.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle">AWS-SAP-MustKnow</span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2024-03-20 17:17" pubdate>2024年3月20日 下午</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 7.8k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 65 分钟</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header">AWS-SAP-MustKnow</h1><div class="markdown-body"><p><img src="https://cdn.jsdelivr.net/gh/occultagg/blog-pics/hexo-blog/90" srcset="/img/loading.gif" lazyload></p><h1 id="服务类型总结"><a href="#服务类型总结" class="headerlink" title="服务类型总结"></a>服务类型总结</h1><h2 id="计算（Compute）"><a href="#计算（Compute）" class="headerlink" title="计算（Compute）:"></a>计算（Compute）:</h2><h3 id="Amazon-EC2（Elastic-Compute-Cloud）"><a href="#Amazon-EC2（Elastic-Compute-Cloud）" class="headerlink" title="Amazon EC2（Elastic Compute Cloud）"></a>Amazon EC2（Elastic Compute Cloud）</h3><ul><li>spot: 使用aws上未被使用的计算资源,<code>随时可能被终止</code>,适用于批处理,科学计算等,价格按供需变化</li><li>预留: <code>预定</code>计算资源(一般是1年或3年),折扣比按需大</li><li>按需: <code>按小时或秒</code>收费</li><li>节省计划: 在一定时间内(一般是一年或三年)使用一定量的计算资源,<code>换取</code>比按需更低的价格</li><li>集群放置组: 在单可用区内将ec2实例紧密分组在一起,实现相互间的低延迟和高吞吐</li><li>分区放置组: 将EC2实例分布在一个region的多个分区中(不同机架或不同服务器).实现故障隔离</li><li>T3: 通用</li><li>R5: 内存优化</li></ul><blockquote><p>可以将ec2绑定一个iam角色,但不能绑定用户</p></blockquote><ul><li>实例存储卷: nvme SSD最大30TB,比EBSI&#x2F;O更高,速度最快</li><li>Auto Scaling<ul><li>简单扩展策略: 根据<code>单一</code>的云监控指标动态扩缩容,执行扩展后会有一个<code>冷却期</code></li><li>目标跟踪策略: 设置一个<code>目标值</code>(比如cpu40%),auto scaling会自动调整EC2实例的数量来<code>维持</code>这个目标值,没有冷却期</li><li>计划扩展策略: 根据<code>预知</code>的负载变化来预先安排扩展,比如指定未来某个时间点增加或减少实例数量</li></ul></li></ul><h3 id="AWS-Lambda（无服务器计算）"><a href="#AWS-Lambda（无服务器计算）" class="headerlink" title="AWS Lambda（无服务器计算）"></a>AWS Lambda（无服务器计算）</h3><ul><li>程序运行要在15mins内</li><li>128MB-10GB</li><li>成本计算:<ul><li>请求计费: 每月免费头100w次请求</li><li>执行时间: 与内存成正比,每月400000GB-秒免费<ul><li>GB-秒:一秒时间内使用1GB内存,比如分配了1GB内存,一个月就有免费400,000s</li></ul></li></ul></li></ul><h3 id="Amazon-ECS（Elastic-Container-Service，容器管理"><a href="#Amazon-ECS（Elastic-Container-Service，容器管理" class="headerlink" title="Amazon ECS（Elastic Container Service，容器管理)"></a>Amazon ECS（Elastic Container Service，容器管理)</h3><p>容器管理服务,是容器的运行和管理环境</p><ul><li>ec2 launch type</li><li>fargate launch type</li></ul><p>任务: 一个或多个容器的组合,是运行容器的基本单位,有点类似k8s的pod</p><p>任务定义: 以json格式描述容器运行的所有设置(比如镜像,端口,卷挂载,cpu内存等),类似dockerfile或k8s yaml,任务定义有版本的概念,用于部署更新或滚动更新</p><h3 id="AWS-batch"><a href="#AWS-batch" class="headerlink" title="AWS batch"></a>AWS batch</h3><p>建立在ECS之上的全托管批处理服务,一般用lambda去触发</p><h3 id="Amazon-EKS（Elastic-Kubernetes-Service，Kubernetes-管理）"><a href="#Amazon-EKS（Elastic-Kubernetes-Service，Kubernetes-管理）" class="headerlink" title="Amazon EKS（Elastic Kubernetes Service，Kubernetes 管理）"></a>Amazon EKS（Elastic Kubernetes Service，Kubernetes 管理）</h3><p>托管型k8s服务,管理k8s控制平面的高可用,扩展和安全</p><ul><li>ec2 launch type</li><li>fargate launch type</li></ul><h3 id="AWS-Fargate（容器无服务器计算）"><a href="#AWS-Fargate（容器无服务器计算）" class="headerlink" title="AWS Fargate（容器无服务器计算）"></a>AWS Fargate（容器无服务器计算）</h3><p>无服务计算引擎,结合ecs或eks,提供一种方式来执行容器,无需用户关心基础实例的运行和维护</p><h2 id="存储（Storage）"><a href="#存储（Storage）" class="headerlink" title="存储（Storage）"></a>存储（Storage）</h2><h3 id="Amazon-S3（Simple-Storage-Service，简单存储服务）"><a href="#Amazon-S3（Simple-Storage-Service，简单存储服务）" class="headerlink" title="Amazon S3（Simple Storage Service，简单存储服务）"></a>Amazon S3（Simple Storage Service，简单存储服务）</h3><ul><li><p>版本控制:</p><ol><li>当对像被覆盖或删除操作时,旧版本不会被永久删除,而是保留下来,在需要的时候可以恢复</li><li>上传的每个对象都会被分配一个唯一的版本ID</li><li>如果你上传一个跟已存在对象同名的文件,旧文件不会被覆盖,新文件会获得一个唯一的版本ID</li><li>检索开启版本控制的对象,要指定其版本ID,不指定就返回最新</li><li>删除开启版本控制的对象,只会逻辑删除;指定删除对象的特定版本,特定版本就会删除;指定删除对象的所有版本,对象才会被永久删除</li><li>开启版本控制后的存储桶才能设置<code>生命周期策略</code>,例如自动删除一定时间后的旧版本</li></ol></li><li><p>MFA delete: 多因素删除,提供两种身份认证才能删除对象</p></li><li><p>类型</p><ul><li><p>standard: 默认</p></li><li><p>IA: 非频繁访问</p></li><li><p>Glacier: 更低的访问频率,不能直接下载(至少90天才能)</p><ul><li>Glacier Deep: 读取延迟12-48小时</li></ul></li><li><p>Intelligent-tiering: 根据访问频率自动归类,免费功能</p></li></ul></li><li><p>SSE-S3(Server-Side Encryption with Amazon S3-Managed Keys)</p><ul><li>服务器端S3加密密钥,S3自动管理</li><li>每个对象都有唯一的密钥并使用一个主密钥加固</li></ul></li><li><p>SSE-KMS(Server-Side Encryption with AWS Key Management Service)</p><ul><li>使用KMS中的密钥来对s3对象进行加密</li><li>KMS提供密钥审计,访问控制和rotate等功能</li></ul></li><li><p>object-lock</p><ul><li>治理模式: 大多数用户不能修改对象,但可以授权某些用户可以修改对象</li><li>和规模式: 任何用户(包括根用户)在对象保护期限之前都不能修改或删除对象</li></ul></li><li><p>跨区复制(桶间复制): S3存储桶是全局资源,但是也有分区域,区域定义了存储桶的物理存储位置,该功能允许你自动,异步地复制对象到另一个不同aws区域的桶中</p></li><li><p>lake formation: 简化通过aws构建,保护和管理数据湖的过程.允许存储所有结构化和非结构化数据的大规模存储看.可以与S3无缝集成,可以运行不同类型的分析</p></li><li><p>macie: 利用机器学习和模式匹配,发现和保护敏感数据,专门用来识别和分类s3中敏感内容</p></li><li><p>Transfer Acceleration: 利用cloudfront优化全球文件传输,先传到最近的边缘节点,然后利用aws内部网络传输文件到目标s3</p></li></ul><blockquote><p>访问控制:</p><ol><li>存储桶策略: json格式,用于授权账户对s3资源的访问.可以控制整个桶或桶内特定对象</li><li>ACLs: 管理aws账户或预定义群组对存储桶和对象的读写权限(粒度比存储桶策略粗)</li><li>IAM: 授权IAM用户,组或角色对s3资源的访问权限</li></ol><p>以上三者是”逻辑与”的关系</p><ol start="4"><li>预签名URL: 安全地分享对象,不需要设置对象为公开访问,用户不具有账户凭据的情况下也能访问,可以设定有效期</li><li>跨资源共享(CORS): 默认情况下一个网站脚本无法访问另一个网站的内容,此功能允许你在不同域名之间的前端应用程序请求S3资源</li></ol></blockquote><h3 id="Amazon-EBS（Elastic-Block-Store，弹性块存储"><a href="#Amazon-EBS（Elastic-Block-Store，弹性块存储" class="headerlink" title="Amazon EBS（Elastic Block Store，弹性块存储)"></a>Amazon EBS（Elastic Block Store，弹性块存储)</h3><p>块存储服务,作为<code>单个</code>ec2实例的持久存储来使用</p><ul><li>快速快照恢复功能: 从EBS卷的快照中创建一个新的EBS卷</li><li>类型:<ul><li>通用型SSD<ul><li>gp2: 通用型ssd,1GB&#x2F;s的吞吐,16000 IOPS</li><li>gp3: gp2的升级版,用户可以独立选择和调整IOPS和吞吐量</li></ul></li><li>预配置IOPS SSD<ul><li>io1: 满足延迟敏感型高性能I&#x2F;O密集型应用,比如大型关系型数据库或noSql数据库</li><li>io2: io1的升级,更高的持久性和IOPS效率</li></ul></li><li>io2 block express</li><li>容量优化HDD(st1): 面向吞吐量的HDD卷,适用于频繁访问,大数据量的工作负载(数据仓库,日志处理和数据湖),高吞吐,低于SSD的成本但IOPS较低</li><li>冷HDD(sc1): 低成本磁盘卷</li></ul></li></ul><h3 id="Amazon-Glacier（长期数据归档）"><a href="#Amazon-Glacier（长期数据归档）" class="headerlink" title="Amazon Glacier（长期数据归档）"></a>Amazon Glacier（长期数据归档）</h3><h3 id="Amazon-EFS（Elastic-File-System，弹性文件系统）"><a href="#Amazon-EFS（Elastic-File-System，弹性文件系统）" class="headerlink" title="Amazon EFS（Elastic File System，弹性文件系统）"></a>Amazon EFS（Elastic File System，弹性文件系统）</h3><h3 id="Amazon-FSx-for-windows-server-专门为windows提供的存储服务-支持SMB"><a href="#Amazon-FSx-for-windows-server-专门为windows提供的存储服务-支持SMB" class="headerlink" title="Amazon FSx for windows server: 专门为windows提供的存储服务,支持SMB"></a>Amazon FSx for windows server: 专门为windows提供的存储服务,支持SMB</h3><h3 id="Amazon-FSx-for-Lustre-为高性能计算提供存储-例如机器学习-视频处理和金融建模等"><a href="#Amazon-FSx-for-Lustre-为高性能计算提供存储-例如机器学习-视频处理和金融建模等" class="headerlink" title="Amazon FSx for Lustre: 为高性能计算提供存储,例如机器学习,视频处理和金融建模等"></a>Amazon FSx for Lustre: 为高性能计算提供存储,例如机器学习,视频处理和金融建模等</h3><ul><li>可以与S3集成,将S3对象呈现为文件并讲改写的数据写回S3</li></ul><h2 id="数据库（Database）"><a href="#数据库（Database）" class="headerlink" title="数据库（Database）"></a>数据库（Database）</h2><h3 id="Amazon-RDS（Relational-Database-Service，关系型数据库服务）"><a href="#Amazon-RDS（Relational-Database-Service，关系型数据库服务）" class="headerlink" title="Amazon RDS（Relational Database Service，关系型数据库服务）"></a>Amazon RDS（Relational Database Service，关系型数据库服务）</h3><p>管理型数据库服务平台,用来管理关系型数据库,支持各种引擎(aurora,postgreSQL,mysql, mariabd,oracle,sql server)</p><ul><li>全局表: 允许你跨多个区域复制多主数据库实例,支持一主多从复制,确保多个区域之间的低延迟同步</li><li>只读副本创建:<ol><li>先让源数据库执行完长时间事务</li><li>必须设置备份保留期不等于0,在源实例上启动自动备份</li></ol></li><li>Aurora auto scaling只会缩放只读副本</li><li>时间点恢复(PITR): 将数据库恢复到过去特定的日期和时间,依赖<code>RDS自动备份功能</code> .备份保留期最少可达35天,你可以使用这个功能将数据库数据恢复到最多35天前的<code>任意时间点</code>(最少粒度为1分钟)</li></ul><blockquote><p>rds for mysql&#x2F;oracle&#x2F;…: 标准的数据库引擎</p><p>rds for custom mysql&#x2F;oracle&#x2F;…: 允许系统访问操作,自己维护自己打补丁</p><p>aurora mysql: 高性能,适用于持续,可预测负载的应用程序</p><p>aurora serverless: 按需自动启动和关闭,按需完全自动扩缩容(v2版)</p></blockquote><h3 id="Amazon-DynamoDB（NoSQL-数据库服务）"><a href="#Amazon-DynamoDB（NoSQL-数据库服务）" class="headerlink" title="Amazon DynamoDB（NoSQL 数据库服务）"></a>Amazon DynamoDB（NoSQL 数据库服务）</h3><ul><li>dynamoDB-DAX:</li></ul><p>​	为dynamoDB设计的缓存服务,旨在dynamodb提高性能</p><ul><li>dynamoDB-stream</li></ul><p>​	捕获任何DynamoDB表中按时间顺序排列的条目级修改,并在日志中存储这些信息,最长可达24小时.意味着我们可以获取一个DynamoDB说有操作的流数据,通过这个流数据我们可以用来触发各种响应,比如同步到另一个数据库或者简单地用于审计</p><ul><li><p>TTL</p><p>为表中的每一项定义一个过期时间,过期则删除数据(非即时,有一定延时)</p></li></ul><h3 id="Amazon-Redshift（数据仓库服务）-使用sql和现有的商业智能工具做数据分析"><a href="#Amazon-Redshift（数据仓库服务）-使用sql和现有的商业智能工具做数据分析" class="headerlink" title="Amazon Redshift（数据仓库服务）: 使用sql和现有的商业智能工具做数据分析"></a>Amazon Redshift（数据仓库服务）: 使用sql和现有的商业智能工具做数据分析</h3><h3 id="AWS-Aurora（数据库引擎）"><a href="#AWS-Aurora（数据库引擎）" class="headerlink" title="AWS Aurora（数据库引擎）"></a>AWS Aurora（数据库引擎）</h3><h3 id="Amazon-Neptune（图数据库）"><a href="#Amazon-Neptune（图数据库）" class="headerlink" title="Amazon Neptune（图数据库）"></a>Amazon Neptune（图数据库）</h3><h3 id="AWS-RDS-proxy"><a href="#AWS-RDS-proxy" class="headerlink" title="AWS RDS proxy"></a>AWS RDS proxy</h3><p>数据库代理服务,解决数据库连接限制和过多连接数的问题,保持应用程序连接的同时自动连接到备用数据库实例</p><h3 id="AWS-Database-Migration-Service-DMS"><a href="#AWS-Database-Migration-Service-DMS" class="headerlink" title="AWS Database Migration Service (DMS)"></a>AWS Database Migration Service (DMS)</h3><p>帮助用户将关系数据库,数据仓库,NOSQL等数据迁移到AWS</p><ul><li>CDC(数据变更捕获): 这个功能允许DMS捕捉到源数据库在迁移过程中发生的数据变化,并实时地将这些变化应用到目标数据库上</li></ul><h2 id="移动服务（Mobile-Services）"><a href="#移动服务（Mobile-Services）" class="headerlink" title="移动服务（Mobile Services）:"></a>移动服务（Mobile Services）:</h2><h3 id="AWS-Amplify（快速构建移动应用程序和网页应用程序）"><a href="#AWS-Amplify（快速构建移动应用程序和网页应用程序）" class="headerlink" title="AWS Amplify（快速构建移动应用程序和网页应用程序）"></a>AWS Amplify（快速构建移动应用程序和网页应用程序）</h3><h3 id="Amazon-API-Gateway（创建、发布、维护-API）"><a href="#Amazon-API-Gateway（创建、发布、维护-API）" class="headerlink" title="Amazon API Gateway（创建、发布、维护 API）"></a>Amazon API Gateway（创建、发布、维护 API）</h3><p>充当HTTP和WebSocket API的门户,允许前端应用程序以编程方式访问后端服务</p><h3 id="AWS-AppSync（管理数据同步与应用状态）"><a href="#AWS-AppSync（管理数据同步与应用状态）" class="headerlink" title="AWS AppSync（管理数据同步与应用状态）"></a>AWS AppSync（管理数据同步与应用状态）</h3><h2 id="数据分析（Analytics）"><a href="#数据分析（Analytics）" class="headerlink" title="数据分析（Analytics）:"></a>数据分析（Analytics）:</h2><ul><li>Amazon EMR（Elastic MapReduce，处理大规模数据）</li><li>AWS Glue（托管 ETL 服务）: 提取,转换和加载服务用于准备和加载数据,自动发现和分类数据,用户数据分析前的准备工作<ul><li>作业书签: 避免重复处理旧数据</li><li>数据目录: 核心组件,存储你数据的元数据,有助于自动数据的转换和加载功能.</li><li>爬虫(crawler): 自动探测你环境中的数据目录(s3,rds或redshift等),读取数据推断数据模式,创建数据表的定义,存储在数据目录中(表名,列名数据类型等),模式使用它自带的分类器实现,也可以<code>自定义分类器</code>实现自定义的推断.</li></ul></li><li>Amazon Athena（SQL 查询服务）: <code>针对s3实时执行sql查询</code>,但是可使用的资源是S3分配的,所以在高峰时候使用会慢</li><li>Amazon QuickSight（商业智能服务): 主要用来做<code>数据可视化</code></li></ul><h2 id="安全性、身份和合规性（Security-Identity-Compliance）"><a href="#安全性、身份和合规性（Security-Identity-Compliance）" class="headerlink" title="安全性、身份和合规性（Security, Identity &amp; Compliance）"></a>安全性、身份和合规性（Security, Identity &amp; Compliance）</h2><h3 id="AWS-IAM（Identity-and-Access-Management，身份及访问管理"><a href="#AWS-IAM（Identity-and-Access-Management，身份及访问管理" class="headerlink" title="AWS IAM（Identity and Access Management，身份及访问管理)"></a>AWS IAM（Identity and Access Management，身份及访问管理)</h3><ul><li>账户<ul><li>根账户: 每个aws账户的创建者和拥有者</li><li>管理账户(主账户): 主要用于统一管理和控制</li><li>用户账户: 日常运营和资源分配的基本单位</li></ul></li><li>TaskRoleARN: ECS任务关联的IAM角色的ARN.这个角色赋予ECS任务中的容器所需权限,这样他们就可以访问其他AWS服务.</li><li>API密钥: 用户使用AWS-CLI,SDKs或直接HTTP API调用时,通过API密钥,进行安全的访问和操作,无需硬编码账户名和密码.</li><li>access analyzer: 可以与cloudtrail集成,分析其中日志,自动得出账户所需的最少权限</li></ul><h3 id="AWS-Shield（DDoS-防护）"><a href="#AWS-Shield（DDoS-防护）" class="headerlink" title="AWS Shield（DDoS 防护）"></a>AWS Shield（DDoS 防护）</h3><p>免费,默认保护所有使用R53和cloudfront的资源</p><h3 id="Amazon-Cognito（用户身份管理）"><a href="#Amazon-Cognito（用户身份管理）" class="headerlink" title="Amazon Cognito（用户身份管理）"></a>Amazon Cognito（用户身份管理）</h3><p>客户身份和访问管理服务(CIAM),帮助企业简化用户身份验证,授权,用户池创建和管理.允许你让用户通过社交身份提供商(facebook,X,google等),SAML2.0标识提供商或者自有的身份系统进行登录.</p><ul><li>用户池: 创建你自己的用户目录,使用户可以注册登录并验证</li><li>身份池: 授权用户访问其他AWS服务</li></ul><h3 id="AWS-WAF（Web-Application-Firewall，网络应用防火墙）"><a href="#AWS-WAF（Web-Application-Firewall，网络应用防火墙）" class="headerlink" title="AWS  WAF（Web Application Firewall，网络应用防火墙）"></a>AWS WAF（Web Application Firewall，网络应用防火墙）</h3><p>应用层防火墙,避免sql注入,跨脚本攻击等,还可以限制特定国家&#x2F;地区访问</p><p>规则操作:</p><pre><code class="hljs">1. count: 只计数,不做任何操作,计数用于监控,一般在测试的时候很有用
1. block: 允许请求
1. allow: 拦截请求
</code></pre><h3 id="AWS-GuardDuty"><a href="#AWS-GuardDuty" class="headerlink" title="AWS GuardDuty"></a>AWS GuardDuty</h3><p>AWS提供的威胁检测服务,通过分析处理各种数据(比如CloudTrail事件,VPC流日志)来检测恶意活动和异常行为.</p><h3 id="Firewall-manager"><a href="#Firewall-manager" class="headerlink" title="Firewall manager"></a>Firewall manager</h3><p>中央管理工具,统一管理多个aws账户&#x2F;区域中的资源中部署的WAF规则, shield 保护规则以及其他aws防火墙规则</p><h2 id="网络和内容交付（Networking-Content-Delivery）"><a href="#网络和内容交付（Networking-Content-Delivery）" class="headerlink" title="网络和内容交付（Networking &amp; Content Delivery）"></a>网络和内容交付（Networking &amp; Content Delivery）</h2><h3 id="Amazon-VPC（Virtual-Private-Cloud，虚拟私有云）"><a href="#Amazon-VPC（Virtual-Private-Cloud，虚拟私有云）" class="headerlink" title="Amazon VPC（Virtual Private Cloud，虚拟私有云）"></a>Amazon VPC（Virtual Private Cloud，虚拟私有云）</h3><ul><li><p>peering link(对等连接): 连接两个vpc(不通过公共互联网传输),两个vpc都要添加路由,双向,网络对网络</p></li><li><p>private link(也叫vpc endpoint service): 在你的vpc中通过私有的网络路径安全地访问aws服务或vpc终端节点(不通过公共互联网传输),单向,一对一,比如允许别的vpc访问自己vpc下的某一服务端点</p><ul><li>VPC endpoint:<ul><li>接口端点: 实际上是在vpc内创建一个与特定AWS服务相关联的弹性网络接口(ENI),不需要修改vpc路由表</li><li>网关端点: 支持s3和dynamoDB,将vpc中针对这两个服务的流量(优化)路由到目标,需要在路由表中添加一个指向该端点的路由</li></ul></li></ul></li><li><p>NACLs</p><ul><li>默认拒绝所有</li><li>无状态</li><li>作用在子网,一个NACL可以关联多个子网,但一个子网只能关联一个NACL</li><li>按顺序评估规则,第一个匹配的规则生效</li><li>支持黑白名单</li></ul></li><li><p>AWS Network Firewall (网络防火墙): 支持有状态和无状态规则,web过滤,入侵检测和防御,弹性可扩展,监控进出vpc流量(通常用于补充NACLs的功能)</p></li><li><p>安全组: 虚拟防火墙,控制实例之间的出入流量</p><ul><li>默认允许所有<code>出</code>禁止所有<code>入</code></li><li>有状态</li><li>作用在实例级别.安全组和实例是多对多的关系.</li><li>所有规则同时生效(只有有允许该流量的规则,流量就会被放行)</li><li>白名单</li><li>支持前缀列表: 用于管理多个CIDR块的资源,可用于安全组中,包括aws管理的&#x2F;用户自定义的,例如cloudfront(com.amazonaws.global.cloudfront)</li></ul></li><li><p>VPC endpoint policy: 资源策略,用于管理和控制到VPC Endpoint服务的访问,附加到vpc endpoint上控制哪些aws主体可以使用该端点来访问服务.</p></li><li><p>公有子网: 公有子网的实例可以直接通过<code>互联网网关</code>连接到互联网</p></li><li><p>私有子网: 私有子网的实例不能直接访问互联网,通常通过<code>nat网关</code>连接互联网</p><blockquote><p>子网不能跨可用区,比如如果要使用跨多个AZs的</p></blockquote></li><li><p>internet gateway: 给公有子网实例连接互联网</p></li><li><p>nat gateway: 运行在公有子网中给私有子网实例连接互联网或其他aws服务,但不能从互联网接受入站连接</p></li></ul><h3 id="Transit-Gateway"><a href="#Transit-Gateway" class="headerlink" title="Transit Gateway"></a>Transit Gateway</h3><p>创建一个中心化的网络枢纽,连接多个不同网络,比如本地网络与多个VPC之间或者多个VPC之间建立连接,这样子就不需要每个VPC之间都创建一个peering link</p><h3 id="AWS-Direct-Connect（专用网络连接）"><a href="#AWS-Direct-Connect（专用网络连接）" class="headerlink" title="AWS Direct Connect（专用网络连接）"></a>AWS Direct Connect（专用网络连接）</h3><h3 id="Amazon-CloudFront（全球内容分发网络）"><a href="#Amazon-CloudFront（全球内容分发网络）" class="headerlink" title="Amazon CloudFront（全球内容分发网络）"></a>Amazon CloudFront（全球内容分发网络）</h3><p><code>http</code> CND功能和安全功能(https, 防Ddos)</p><ul><li>OAI: cloudfront的一个特性,用来限制对S3存储桶的访问,确保使用cloudfront分发的内容仅可以通过cloudfront访问,不能直接通过S3URL访问.</li><li>字段级加密配置: 在内容通过CloudFront分发到原始服务器之前,加密HTTP POST请求中表达字段中的数据.</li></ul><h3 id="AWS-Global-Accelerator（网络加速服务）"><a href="#AWS-Global-Accelerator（网络加速服务）" class="headerlink" title="AWS Global Accelerator（网络加速服务）"></a>AWS Global Accelerator（网络加速服务）</h3><p>针对<code>非http</code>场景的CDN,如游戏UDP,以及用于自我管理的DNS场景</p><h3 id="Route53"><a href="#Route53" class="headerlink" title="Route53"></a>Route53</h3><p>DNS解析;域名注册;健康检查</p><ul><li>主动&#x2F;被动故障转移: 主资源不健康,将自动把流量重定向到预先设置的备用资源</li><li>主动&#x2F;主动故障转移: 多份资源同时服务,某一份不健康,流量会停止转给它,只会转到其余健康的资源中</li><li>简单路由策略: 基础DNS查询,不支持健康检查</li><li>延迟路由策略: 资源部署在多个aws区域,基于网络延迟,向延迟最低的region路由</li><li>多值路由策略: 允许关联多个资源,并进行健康检查,随机选<code>一个</code>健康的资源来响应</li><li>地理位置路由策略: 根据dns查询的发起地理位置来路由</li></ul><p>专用托管区: 在VPC内部管理DNS记录,且这些记录不会被互联网访问得到,与特定账户和特定vpc绑定</p><p>公开托管区: 用于互联网的DNS记录查询.</p><h3 id="ELB"><a href="#ELB" class="headerlink" title="ELB"></a>ELB</h3><ul><li>ALB<ul><li>工作在<code>7层应用层</code>的负载均衡器</li><li>根据URL或HTTP头信息路由</li><li>支持websocket和http&#x2F;2</li><li>集成ECS和EKS</li><li>提供SSL&#x2F;TLS解密功能,直接在负载均衡器上管理https证书</li><li>精细化健康检查和转发规则</li><li>TargetGroup<ul><li>ALB中用来定义负载均衡器转发请求目标.(支持EC2,Lambda,IP地址或ECS中的容器)</li></ul></li></ul></li><li>NLB<ul><li>工作在<code>4层传输层</code>的负载均衡器</li><li>针对TCP流量优化,可以处理不稳定的和突发的流量</li><li>每个NLB都可以使用一个静态ip</li><li>延迟低</li><li>自动识别不健康的实例,并转发流量到健康的</li><li>适用于TCP长连接(websocket)</li><li>每个AZ一个独立端点,确保扩展性和容错性</li></ul></li></ul><h2 id="应用集成（Application-Integration）"><a href="#应用集成（Application-Integration）" class="headerlink" title="应用集成（Application Integration）"></a>应用集成（Application Integration）</h2><h3 id="AWS-Step-Functions（托管状态机服务）"><a href="#AWS-Step-Functions（托管状态机服务）" class="headerlink" title="AWS Step Functions（托管状态机服务）"></a>AWS Step Functions（托管状态机服务）</h3><h3 id="Amazon-SNS（Simple-Notification-Service，简单通知服务）"><a href="#Amazon-SNS（Simple-Notification-Service，简单通知服务）" class="headerlink" title="Amazon SNS（Simple Notification Service，简单通知服务）"></a>Amazon SNS（Simple Notification Service，简单通知服务）</h3><h3 id="Amazon-SQS（Simple-Queue-Service，简单队列服务）"><a href="#Amazon-SQS（Simple-Queue-Service，简单队列服务）" class="headerlink" title="Amazon SQS（Simple Queue Service，简单队列服务）"></a>Amazon SQS（Simple Queue Service，简单队列服务）</h3><ul><li>标准队列: 消息顺序,但有些情况下会乱序,消息至少传递一次(可能会多次处理同一条消息),无限吞吐</li><li>FIFO队列: 严格顺序,确保每条消息仅处理一次,有限吞吐</li><li>死信队列: 当一条消息被n次(可设置)连续接受但没有成功被处理(被删除),这条消息就会认为是<code>死信息</code>,自动发送到死信队列中,用于隔离和分析这些死消息,不影响正常消息处理</li></ul><blockquote><p>消息延迟发送: 消息发送到SQS中也不会被消费者立即看到,知道你设置的延迟时间过了,最多延迟15分钟</p><p>可见性超时: 当一个消息从队列中被检索出来,消息会被标记为<code>正在处理</code>,而再可见性超时期间对其他消费者来说是<code>不可见的</code>.如果消费者在可见性超时时间内成功处理并删除这条消息,就没问题.反之,超过了可见性超时,其他消费者就能看到这条消息并处理他.</p><ul><li>如果消费者因为某些原因无法处理消息,消息不会消失,而是重新进入队列给别的消费者处理</li><li>超时期间,避免多个消费者重复处理消息</li></ul></blockquote><h3 id="AWS-EventBridge（事件总线）"><a href="#AWS-EventBridge（事件总线）" class="headerlink" title="AWS EventBridge（事件总线）"></a>AWS EventBridge（事件总线）</h3><p>无服务器的时间总线,基于事件触发aws服务,api调用等</p><h3 id="AWS-Confluent"><a href="#AWS-Confluent" class="headerlink" title="AWS Confluent"></a>AWS Confluent</h3><p>完全托管的Kafka服务,可以与lambda,S3等aws服务无缝集成</p><h3 id="AWS-SES"><a href="#AWS-SES" class="headerlink" title="AWS SES"></a>AWS SES</h3><p>基于云的电子邮件服务提供商,可以集成到任何应用程序中</p><h3 id="AWS-ElasticCache"><a href="#AWS-ElasticCache" class="headerlink" title="AWS ElasticCache"></a>AWS ElasticCache</h3><p>完全托管的内存数据缓存服务,兼容redis和memcached</p><h3 id="AWS-connect"><a href="#AWS-connect" class="headerlink" title="AWS connect"></a>AWS connect</h3><p>全渠道云联系中心,支持任何地方的代理,提供客服电话,聊天,交互式语音响应和运营分析功能</p><h3 id="AWS-pinpoint"><a href="#AWS-pinpoint" class="headerlink" title="AWS pinpoint"></a>AWS pinpoint</h3><p>灵活可扩展的市场传播服务,让你通过e-mail,<code>短信</code>,推送通知或语音等方式与顾客保持联系.并提供数据分析功能.</p><h2 id="开发者工具（Developer-Tools）"><a href="#开发者工具（Developer-Tools）" class="headerlink" title="开发者工具（Developer Tools）"></a>开发者工具（Developer Tools）</h2><ul><li>AWS CodeCommit（托管 Git 代码仓库）</li><li>AWS CodePipeline（持续集成和持续交付服务）</li><li>AWS CodeBuild（编译和测试代码）</li><li>AWS CodeDeploy（自动化代码部署）</li></ul><h2 id="物联网（IoT）"><a href="#物联网（IoT）" class="headerlink" title="物联网（IoT）"></a>物联网（IoT）</h2><ul><li>AWS IoT Core（接入和管理 IoT 设备）</li><li>AWS IoT Analytics（物联网分析）</li><li>AWS IoT Device Management（设备管理）</li></ul><h2 id="机器学习（Machine-Learning）"><a href="#机器学习（Machine-Learning）" class="headerlink" title="机器学习（Machine Learning）"></a>机器学习（Machine Learning）</h2><ul><li>Amazon SageMaker（机器学习模型构建、训练和部署）: 为ML设计的工作流编排服务,自动化所有机器学习阶段</li><li>AWS Rekognition（图像和视频分析）: 计算机视觉服务.识别分析图像和视频</li><li>Amazon textract: 机器学习服务,利用光学字符识别(OCR)来自动从扫描的文档中提取文本,手写内容和数据.</li><li>AWS Comprehend（自然语言处理）: 自然语言处理服务(NPL)</li><li>Amazon Transcribe: 自动语音识别服务(ASR)</li><li>Amazon Translate: 神经机器翻译服务</li></ul><h2 id="企业应用程序（Enterprise-Applications）"><a href="#企业应用程序（Enterprise-Applications）" class="headerlink" title="企业应用程序（Enterprise Applications）"></a>企业应用程序（Enterprise Applications）</h2><ul><li>Amazon WorkSpaces（桌面即服务）</li><li>Amazon WorkMail（企业电子邮件和日历服务）</li></ul><h2 id="管理与治理-Management-Governance"><a href="#管理与治理-Management-Governance" class="headerlink" title="管理与治理 (Management &amp; Governance)"></a>管理与治理 (Management &amp; Governance)</h2><h3 id="AWS-cloudformation"><a href="#AWS-cloudformation" class="headerlink" title="AWS cloudformation"></a>AWS cloudformation</h3><p>允许开发人员和系统管理员以编码方式创建和管理AWS资源的集合,使用模板文件定义所需资源.</p><ul><li>堆栈(stack): 根据cloudformation模板定义的资源集合.你的模板定义了需要创建和配置的所有aws资源,以及这些资源之间的依赖关系.当部署一个模板时,cloudformation会跟随模板指令,创建一个资源的集合,也就是堆栈.</li><li>堆栈集(stack set): cloudformation的一个功能,允许你在多个aws账户和区域中自动部署相同的堆栈.<ul><li>跨账户和区域部署</li><li>集中化管理</li><li>自动更新: 更新堆栈集,所有关联的堆栈也会自动更新</li><li>顺序部署: 可以对堆栈集内的堆栈进行顺序部署</li><li>偏移检测: 可以检测堆栈集以及锁管理的各个堆栈中的资源预期cloudformation模板的预期配置之间的差异.资源偏移表示资源的属性已经被外部改动,与模板定义的状态不一致.</li></ul></li></ul><h3 id="AWS-systems-manager"><a href="#AWS-systems-manager" class="headerlink" title="AWS systems manager"></a>AWS systems manager</h3><ul><li>patch manager: 管理系统补丁</li><li>run command: 允许你在aws资源上安全地执行远程命令的功能</li><li>parameter store: 提供一个中央位置管理配置数据,可以包括敏感信息,支持加密,没有rotate功能</li></ul><h3 id="AWS-key-management-service-KMS"><a href="#AWS-key-management-service-KMS" class="headerlink" title="AWS key management service(KMS)"></a>AWS key management service(KMS)</h3><p>创建控制用于加密操作的密钥,可以与其他aws服务结合为数据加解密提供密钥管理和控制</p><h3 id="AWS-secret-manager"><a href="#AWS-secret-manager" class="headerlink" title="AWS secret manager"></a>AWS secret manager</h3><p>专门保护管理敏感信息(用户名密码,密钥等),支持密钥自动rotate,可以使用kms的密钥来加密</p><h3 id="AWS-organizations"><a href="#AWS-organizations" class="headerlink" title="AWS organizations"></a>AWS organizations</h3><p>账户级别管理和政策控制,比如防止vpc访问internet或限制访问某个AZ</p><p>All Features模式: 表示启用 aws organization所有功能,包括SCP,OUs,集中式付款,集中权限管理等</p><p>OUs: 组织单元,对organization下管理的账户进行分组</p><p>SCP: 服务控制策略,定义允许或拒绝在组织中进行哪些操作的策略.类似IAM policy但是它不是用来授权的,而是用来限制组织中的账户或者OUs可以使用的服务和操作.</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;Version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2012-10-17&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;Statement&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;Effect&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Deny&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;Action&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cloudtrail:DeleteTrail&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">//紧急关闭cloudtrail日志记录功能</span><br>      <span class="hljs-attr">&quot;Resource&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;*&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h3 id="AWS-control-tower"><a href="#AWS-control-tower" class="headerlink" title="AWS control tower"></a>AWS control tower</h3><p>在上者的基础上提供更全面的管理,监控和合规自动化解决方案</p><h3 id="AWS-SSO"><a href="#AWS-SSO" class="headerlink" title="AWS SSO"></a>AWS SSO</h3><p>中心管理身份验证服务,中心化身份管理,集成AWS organizations支持现有的身份源,比如Microsoft AD和LDAP;方便多账户访问</p><h3 id="AWS-directory-service"><a href="#AWS-directory-service" class="headerlink" title="AWS directory service"></a>AWS directory service</h3><p>提供多种方式使用Microsoft AD与其他AWS服务整合的云服务</p><h3 id="Cloud-Trail"><a href="#Cloud-Trail" class="headerlink" title="Cloud Trail"></a>Cloud Trail</h3><p>记录存储aws账户中api调用的历史(console,SDKs,awscli等),相当于记录aws上所有操作</p><h3 id="CloudWatch"><a href="#CloudWatch" class="headerlink" title="CloudWatch"></a>CloudWatch</h3><p>监控和管理服务,提供仪表盘,可以发告警,可以直接通过邮箱地址<code>共享仪表盘</code></p><p>默认情况cloudwatch日志无限期保存</p><p>可以监控:</p><ul><li>性能: 实时监控aws资源(ec2实例,rds数据库,s3等)的性能(cpu,流量,IO等)</li><li>日志: 从ec2实例,cloudTrail等源中获取日志</li><li>服务配额监控</li></ul><h3 id="AWS架构转换-Schema-Conversion-Tools-SCT"><a href="#AWS架构转换-Schema-Conversion-Tools-SCT" class="headerlink" title="AWS架构转换(Schema Conversion Tools)(SCT)"></a>AWS架构转换(Schema Conversion Tools)(SCT)</h3><p>将现有的<code>数据库架构</code>从一种数据库引擎转换成另一种,以便<code>迁移到aws</code>,也可以用于<code>转换整个应用程序架构</code></p><h3 id="AWS-Elastic-BeanStalk"><a href="#AWS-Elastic-BeanStalk" class="headerlink" title="AWS Elastic BeanStalk"></a>AWS Elastic BeanStalk</h3><p>开发者只需要上传代码,这个服务就会自动处理代码部署到AWS上,包括服务器的设定,运维系统的配置,网络构建和安全性设置等,自动扩展,支持多种语言,本身免费</p><h3 id="AWS-config"><a href="#AWS-config" class="headerlink" title="AWS config"></a>AWS config</h3><p>评估,审计和评价AWS环境中资源的配置.持续记录和保持账户中AWS资源变化历史,允许你自动评估配置与所需配置之间的对比</p><h3 id="AWS-资源组"><a href="#AWS-资源组" class="headerlink" title="AWS 资源组"></a>AWS 资源组</h3><p>资源组是管理各种aws资源的一种方式,允许你将aws资源组织在一起(比如根据项目,应用程序,环境等关系)</p><ul><li>标签: k-v,可以在aws中创建的几乎任何资源分配标签,根据标签来管理资源</li></ul><h3 id="AWS-Trusted-Advisor"><a href="#AWS-Trusted-Advisor" class="headerlink" title="AWS Trusted Advisor"></a>AWS Trusted Advisor</h3><p>AWS提供的咨询服务,自动检查你的aws资源并提出优化建议(成本,性能,容错)</p><h3 id="Amazon-Inspector"><a href="#Amazon-Inspector" class="headerlink" title="Amazon Inspector"></a>Amazon Inspector</h3><p>自动的安全评估服务(安全漏洞,合规性)</p><h3 id="AWS-step-function"><a href="#AWS-step-function" class="headerlink" title="AWS step function"></a>AWS step function</h3><p>协调多个 AWS 服务成为一个全自动化的工作流程</p><h3 id="成本管理"><a href="#成本管理" class="headerlink" title="成本管理"></a>成本管理</h3><ul><li>AWS budgets: 设定预算监控aws服务的使用情况和成本</li><li>Cost Explorer: 可视化工具,查看分析aws成本和使用情况数据,提供历史和预测功能</li><li>AWS 账单: 控制台特性,提供每月账单详情</li><li>成本控制控制面板: 控制台中集成的综合视图</li><li>成本和使用报告(CUR): 最详细和最全面的AWS成本和使用数据,数据可以提供其他工具分析,比如Athena或Redshift</li></ul><h2 id="数据传输"><a href="#数据传输" class="headerlink" title="数据传输"></a>数据传输</h2><ul><li>datasync: <code>在线</code>数据传输服务,<code>简化和加速</code>本地到aws或aws服务之间的数据同步</li><li>snowball: 线下物理传输,pb级别</li><li>snowball edge: 在snowball的基础上加上简单的分析和处理任务功能</li><li>snowmobile: 数十或数百PB,EB级别的数据传输</li><li>transfer acceleration: 通过cloudfront加速用户上传到<code>s3</code>的数据传输速度</li><li>AWS Transfer Family: 安全,简便地传输文件到AWS存储服务.支持<code>FTP,SFTP,FTPS和AS2</code>协议</li><li>AWS Storage Gateway（存储网关&#x2F;文件网关）: 将本地环境与云存储无缝连接起来,支持<code>NFS,SMB</code>协议,允许你将本地文件存储<code>直接连接</code>到S3</li></ul><h2 id="数据流和实时分析"><a href="#数据流和实时分析" class="headerlink" title="数据流和实时分析"></a>数据流和实时分析</h2><ul><li><p>kinesis</p><ul><li>data stream: 快速收集和存储来自多个源的数据流,如股票交易,社交媒体数据或游戏数据</li><li>data firehose: 最简单的方式将实时流数据加载到AWS的数据存储服务(s3, redshift, aws es service等)</li><li>data analytics: 让用户使用sql轻松创建和运行对数据流的实时分析</li><li>video stream: 安全地流式处理视频</li></ul></li><li><p>Amazon AppFlow: 完全托管集成服务,帮助用户在SAAS和AWS服务之间安全传输数据</p></li></ul><h1 id="各种例子"><a href="#各种例子" class="headerlink" title="各种例子"></a>各种例子</h1><h2 id="vpc-endpoint-policy"><a href="#vpc-endpoint-policy" class="headerlink" title="vpc endpoint policy"></a>vpc endpoint policy</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;Statement&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;Sid&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;MyPolicyStatement1&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">//自定义标识符,可以是任何值,可选</span><br>      <span class="hljs-attr">&quot;Principal&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;*&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 指定哪些aws用户,&quot;*&quot;代表所有</span><br>      <span class="hljs-attr">&quot;Action&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;s3:*&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 指定可以执行的操作</span><br>      <span class="hljs-attr">&quot;Effect&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Allow&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;Resource&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span> <span class="hljs-comment">// 指定具体资源</span><br>        <span class="hljs-string">&quot;arn:aws:s3:::example-bucket/*&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-string">&quot;arn:aws:s3:::example-bucket&quot;</span><br>      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;Condition&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> <span class="hljs-comment">// 指定策略使用条件</span><br>        <span class="hljs-attr">&quot;StringEquals&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>          <span class="hljs-attr">&quot;aws:sourceVpce&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;vpce-1a2b3c4d&quot;</span> <span class="hljs-comment">// 指定只有来源是特定vpc才会生效</span><br>        <span class="hljs-punctuation">&#125;</span><br>      <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h2 id="terraform创建vpc"><a href="#terraform创建vpc" class="headerlink" title="terraform创建vpc"></a>terraform创建vpc</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><code class="hljs terraform">provider &quot;aws&quot; &#123;<br>  region = &quot;us-west-2&quot;  # 这里设置您希望部署的AWS区域<br>&#125;<br><br>resource &quot;aws_vpc&quot; &quot;main&quot; &#123; # vpc自身<br>  cidr_block = &quot;10.0.0.0/16&quot;<br>  enable_dns_hostnames = true<br>  enable_dns_support = true<br>  tags = &#123;<br>    Name = &quot;main-vpc&quot;<br>  &#125;<br>&#125;<br><br>resource &quot;aws_subnet&quot; &quot;public_subnet&quot; &#123; # 公有子网<br>  vpc_id                  = aws_vpc.main.id<br>  cidr_block              = &quot;10.0.1.0/24&quot;<br>  map_public_ip_on_launch = true<br>  availability_zone       = &quot;us-west-2a&quot;<br>  tags = &#123;<br>    Name = &quot;public-subnet&quot;<br>  &#125;<br>&#125;<br><br>resource &quot;aws_subnet&quot; &quot;private_subnet&quot; &#123; # 私有子网<br>  vpc_id                  = aws_vpc.main.id<br>  cidr_block              = &quot;10.0.2.0/24&quot;<br>  map_public_ip_on_launch = false<br>  availability_zone       = &quot;us-west-2a&quot;<br>  tags = &#123;<br>    Name = &quot;private-subnet&quot;<br>  &#125;<br>&#125;<br><br>resource &quot;aws_internet_gateway&quot; &quot;gw&quot; &#123; # 互联网网关<br>  vpc_id = aws_vpc.main.id<br>  tags = &#123;<br>    Name = &quot;main-gateway&quot;<br>  &#125;<br>&#125;<br><br>resource &quot;aws_eip&quot; &quot;nat&quot; &#123;<br>  vpc = true<br>&#125;<br><br>resource &quot;aws_nat_gateway&quot; &quot;nat&quot; &#123; # nat网关<br>  allocation_id = aws_eip.nat.id<br>  subnet_id     = aws_subnet.public_subnet.id<br>  tags = &#123;<br>    Name = &quot;main-nat-gateway&quot;<br>  &#125;<br>&#125;<br><br>resource &quot;aws_route_table&quot; &quot;public_route_table&quot; &#123; # 路由表<br>  vpc_id = aws_vpc.main.id<br><br>  route &#123;<br>    cidr_block = &quot;0.0.0.0/0&quot;<br>    gateway_id = aws_internet_gateway.gw.id<br>  &#125;<br><br>  tags = &#123;<br>    Name = &quot;public-route-table&quot;<br>  &#125;<br>&#125;<br><br>resource &quot;aws_route_table_association&quot; &quot;public&quot; &#123; # 路由表绑定<br>  subnet_id      = aws_subnet.public_subnet.id<br>  route_table_id = aws_route_table.public_route_table.id<br>&#125;<br><br>resource &quot;aws_security_group&quot; &quot;default&quot; &#123; # 安全组<br>  name        = &quot;default_security_group&quot;<br>  description = &quot;Default security group&quot;<br>  vpc_id      = aws_vpc.main.id<br><br>  egress &#123;<br>    from_port   = 0<br>    to_port     = 0<br>    protocol    = &quot;-1&quot;<br>    cidr_blocks = [&quot;0.0.0.0/0&quot;]<br>  &#125;<br>&#125;<br><br># 必要情况下你还可以添加更多的规则，例如允许入站HTTP和SSH等<br></code></pre></td></tr></table></figure><h2 id="S3-存储桶策略"><a href="#S3-存储桶策略" class="headerlink" title="S3 存储桶策略"></a>S3 存储桶策略</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;Version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2012-10-17&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// policy版本&quot;2008-10-17&quot;或&quot;2012-10-17&quot;,建议选最新的以使用最新功能</span><br>    <span class="hljs-attr">&quot;Statement&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>        <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;Sid&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;PublicReadForGetBucketObjects&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;Effect&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Allow&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;Principal&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;*&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;Action&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;s3:PutObject&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;Resource&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;arn:aws:s3:::example-bucket/*&quot;</span><br>        <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;Sid&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;DenyPublicDelete&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;Effect&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Deny&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;Principal&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;*&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;Action&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;s3:DeleteObject&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;Resource&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;arn:aws:s3:::example-bucket/*&quot;</span><br>        <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h2 id="S3-ACLs"><a href="#S3-ACLs" class="headerlink" title="S3  ACLs"></a>S3 ACLs</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">AccessControlPolicy</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">Owner</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">ID</span>&gt;</span>owner-unique-id<span class="hljs-tag">&lt;/<span class="hljs-name">ID</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">Owner</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">AccessControlList</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">Grant</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">Grantee</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">&quot;CanonicalUser&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">ID</span>&gt;</span>owner-unique-id<span class="hljs-tag">&lt;/<span class="hljs-name">ID</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">Grantee</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">Permission</span>&gt;</span>FULL_CONTROL<span class="hljs-tag">&lt;/<span class="hljs-name">Permission</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">Grant</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">Grant</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">Grantee</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">&quot;CanonicalUser&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">ID</span>&gt;</span>user-unique-id<span class="hljs-tag">&lt;/<span class="hljs-name">ID</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">Grantee</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">Permission</span>&gt;</span>READ<span class="hljs-tag">&lt;/<span class="hljs-name">Permission</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">Grant</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">AccessControlList</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">AccessControlPolicy</span>&gt;</span><br></code></pre></td></tr></table></figure><h1 id="各种对比"><a href="#各种对比" class="headerlink" title="各种对比"></a>各种对比</h1><table><thead><tr><th>WAF</th><th>安全组</th><th>NACLs</th></tr></thead><tbody><tr><td>主要用于保护<code>web应用</code>免受web攻击(SQL注入,跨站脚本攻击等),通过自定义规则控制出入的http&#x2F;https请求可以部署在cloudfront,ALB,API GATEWAY上</td><td>服务于EC2<code>实例</code>,类似虚拟防火墙,控制出入站流量.白名单,默认拒绝所有,有状态</td><td><code>子网级别</code>流量控制,无状态</td></tr></tbody></table><table><thead><tr><th>AWS Trusted Advisor</th><th>Amazon Inspector</th><th>AWS Shield Advanced</th><th>Amazon GuardDuty</th></tr></thead><tbody><tr><td>咨询服务,自动检查你的aws资源并提出优化建议(成本,性能,容错)</td><td>自动的安全评估服务(安全漏洞,合规性)</td><td>DDos防护,可以部署在NLB上</td><td>威胁检测服务,通过分析处理各种数据(比如CloudTrail事件,VPC流日志)来检测恶意活动和异常行为.</td></tr></tbody></table><table><thead><tr><th>AWS Backup</th><th>Amazon Data Lifecycle Manager</th></tr></thead><tbody><tr><td>提供中心化服务配置和管理数据备份,覆盖很多AWS服务,比如EC2,RDS,DynamoDB,EFS,FSx和S3</td><td>自动化EBS卷和快照的生命周期管理</td></tr></tbody></table><table><thead><tr><th>NLB</th><th>ALB</th></tr></thead><tbody><tr><td>4层(传输层),主要用于TCP&#x2F;UDP的流量负载均衡</td><td>7层(应用层),HTTP&#x2F;HTTPS</td></tr><tr><td>处理每秒数百万请求保持低延迟</td><td>支持websocket和HTTP&#x2F;2</td></tr><tr><td>允许将流量直接路由到实例的私有IP或AWS外部的IP</td><td>适合微服务和容器</td></tr><tr><td>支持TCP长连接和websocket</td><td>支持基于路由的转发</td></tr><tr><td>不支持路由转发</td><td></td></tr></tbody></table><h1 id="一些实例"><a href="#一些实例" class="headerlink" title="一些实例"></a>一些实例</h1><h1 id="ALB代理ECS-Fargate"><a href="#ALB代理ECS-Fargate" class="headerlink" title="ALB代理ECS Fargate"></a>ALB代理ECS Fargate</h1><ol><li>创建ALB,选择合适的网络和子网</li><li>针对ECS Fargate的服务创建Target Group,并设好健康检查</li><li></li></ol></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/Cloud/" class="category-chain-item">Cloud</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/AWS/" class="print-no-link">#AWS</a></div></div><div class="license-box my-3"><div class="license-title"><div>AWS-SAP-MustKnow</div><div>http://example.com/2024/03/20/AWS-SAP/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>Peter Pan</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2024年3月20日</div></div><div class="license-meta-item"><div>许可协议</div><div><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/2024/06/20/interview-git/" title="面经"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">面经</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2024/02/24/python-oop-advance/" title="python-面向对象高级特性"><span class="hidden-mobile">python-面向对象高级特性</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>目录</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="statistics"><span id="busuanzi_container_site_pv" style="display:none">总访问量 <span id="busuanzi_value_site_pv"></span> 次 </span><span id="busuanzi_container_site_uv" style="display:none">总访客数 <span id="busuanzi_value_site_uv"></span> 人</span></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var i=jQuery("#board-ctn").offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-i},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback((function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))}}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript></body></html>